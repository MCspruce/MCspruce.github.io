<!DOCTYPE html>
<html lang="zh-CN">

<head>
  <meta charset="UTF-8">
  <title>按钮控件</title>
  <link rel="shortcut icon" href="../favicon.ico">
  <link rel="icon" sizes="100x100" href="../favicon.ico">
  <meta name="viewport" content="width=device-width,initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no" />
  <meta name="apple-mobile-web-app-title" content="MCBE UI 文档">
  <meta name="apple-touch-icon-precomposed" size="57x57" href="../web_icon.png">
  <meta name="apple-touch-icon-precomposed" size="114x114" href="../web_icon.png">
  <meta name="apple-touch-icon-precomposed" size="152x152" href="../web_icon.png">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black">
  <meta name="apple-touch-fullscreen" content="yes">
  <meta name="keywords" content="我的世界UI,基岩版UI,json ui教程,JSON UI教程,json ui,JSON UI">
  <meta name="description" content="本网站用于帮助 MCBE 资源创作者创作 UI，您可以参考本文档的内容来制作您的 UI！">
  <meta name="author" content="MC_spruce">
  
  <link href="../src/css/main.css" rel="stylesheet">
  <script src="../src/js/jQuery.js"></script>
</head>

<body id="root" data-theme="light">
  <!--正文-->
  <div id="content">
    <div class="left_title"><h1>按钮控件</h1></div>
    <div class="left_content"><p>接下来，让我们更深入一些吧！</p>

<p>什么是按钮？
<br>它能让你打开其他的界面，还会根据四种状态<a class="panel c1-gold">默认，悬停，按下，锁定</a>来改变按钮本身的纹理</p>

<p>建议你在控件引用<lc>@common.button</lc>定义按钮，因为这样做能更方便一些。</p>
<h2>按钮属性</h2>
<tip><b>提示</b><br>默认、悬停、按下属性可以不用写，因为<lc>@commom.button</lc>时就已经默认了</tip>
<table>
  <thead><tr><th>属性</th><th>属性名</th><th>值</th><th>描述</th></tr></thead><tbody>
  <tr><td>default_control</td><td>默认状态控件</td><td>字符串</td><td>默认状态下子控件的控件名，该子控件仅在默认状态显示。<br><br>引用<lc>@common.button</lc>时默认为<lc>default</lc>。</td></tr>
  <tr><td>hover_control</td><td>悬停状态控件</td><td>字符串</td><td>悬停状态下子控件的控件名，该子控件仅在悬停状态显示。<br><br>引用<lc>@common.button</lc>时默认为<lc>hover</lc>。</td></tr>
  <tr><td>pressed_control</td><td>按下状态控件</td><td>字符串</td><td>按下状态下子控件的控件名，该子控件仅在按下状态显示。<br><br>引用<lc>@common.button</lc>时默认为<lc>pressed</lc>。</td></tr>
  <tr><td>locked_control</td><td>锁定状态控件</td><td>字符串</td><td>锁定状态下子控件的控件名，该子控件仅在锁定状态显示。</td></tr>
</tbody></table>
    <h2>按钮映射</h2>
    <p>直接添加按钮只会改变自身材质，如果需要按钮有实际作用，
    <br>需要使用 button_mappings 把键盘/手柄/其他操作方式的输入操作(如button.menu_select、button.menu_cancel)映射转换为游戏内的操作(如button.menu_settings)或用于改变动画状态(详见<a href="./attr/anim.html">动画控件</a>)</p>
    <p>详见 <a href="./attr/input.html">输入属性 ></a></p>
    <p>如果仅需按下按钮触发映射事件或者不想写按钮映射数组，可以先引用<lc>@commom.button</lc>并使用<lc>$pressed_button_name</lc>变量。
      <tip><b>提示</b><br><lc>$pressed_button_name</lc>变量等于按钮映射数组中的to_button_id。</tip>
    </p>
    <h2>超链接按钮</h2>

<c>"feedback_button@common.button": {
  "property_bag": {
    "#hyperlink"： "https://aka.ms/minecraftfb"
  }
}</c>

    <div class="panel wow bounceInLeft" data-wow-delay="1.2s">
      <p><strong>property_bag / #hyperlink</strong> <a class="panel c1-yellow c-gray" style="font-size: 10px;">按下后打开的链接</a></p>
      <p>值：字符串
        <br>按下后会打开浏览器并转到指定的链接
        </p><tip><b>tip：</b>
        <br>仅对以下列举的链接有效</tip>
    </div>

      </li>
    </ul>
      这样就可以按下按钮后打开网站了
      不过，只能打开以下几种网站（其他网站会没效果）</p>
    
    <ul class="wow bounceInLeft" style="list-style: square;">
      <li>https://aka.ms/MCBanned</li>
      <li>https://aka.ms/minecraftfb</li>
      <li>https://aka.ms/minecraftfbbeta</li>
      <li>https://aka.ms/MCMultiplayerHelp</li>
      <li>https://account.xbox.com/Settings</li>
      <li>https://social.xbox.com/changegamertag</li>
      <li>https://aka.ms/meeterms</li>
      <li>https://aka.ms/mcedulogs</li>
      <li>https://aka.ms/minecraftedusupport</li>
      <li>https://aka.ms/switchattribution</li>
      <li>https://aka.ms/switchcontent</li>
      <li>https://aka.ms/privacy</li>
      <li>https://www.minecraft.net/licensed-content/?hideChrome</li>
      <li>https://www.minecraft.net/attribution/?hideChrome</li>
      <li>https://itunes.apple.com/us/app/minecraft/id479516143?mt=8</li></ul>
    
  <h2>更改按钮外观</h2>
    
  <p>接下来，我们将外观分成几部分讲解</p>
      
    <h3>文字按钮</h3>
    
    <img width="320" height="auto" src="../src/image/button/1.png"></img>
    <p>类似于start界面中间的三个按钮，这种按钮通常叫做文字按钮
    <br>首先举个例子：
    </p>
    
    <c>"play_button@common_button.light_text_button": {
  "size": ["100%","100%"],
  "$pressed_button_name": "$play_button_target",
  "$button_text": "menu.play"
}</c>
    <table border="1">
      <thead><tr><th>属性名</th><th>值</th><th>介绍</th></tr></thead>
      <tbody></tbody><tr><td>$pressed_button_name</td><td>字符串</td><td>值等于上面的to_button_id（按下就可以触发这个按钮事件）</td></tr>
      <tr><td>$button_text</td><td>字符串</td><td>按钮显示的文字（能被.lang文件翻译）</td></tr>
      <tr><td>$border_visible</td><td>布尔值</td><td>显示按钮边框</td></tr>
      <tr><td>$button_image</td><td>字符串/控件</td><td>按钮外观</td></tr>
      <tr><td>$button_image_visible</td><td>布尔值</td><td>显示按钮外观</td></tr>
      <tr><td>$button_image_size</td><td>数组/大小</td><td>按钮外观大小</td></tr>
      <tr><td>$image_offset</td><td>数组/偏移</td><td>按钮外观偏移</td></tr>
      <tr><td>$button_image_fill</td><td>布尔值</td><td>按钮外观填充</td></tr>
      <tr><td>$image_anchor</td><td>字符串/列举</td><td>按钮外观偏移点</td></tr></tbody>
    </table>
    
    <tip><b>tip：</b>
    <br>@common_button.light_text_button改为@common_button.dark_text_button以黑暗外观呈现（没改$button_image情况下）</tip>
    
    <h3>图片按钮</h3>
    
    <img width="320" height="auto" src="../src/image/button/2.png"></img>
    <p>类似于start界面左下角的按钮，这种按钮通常叫做图片按钮
      <br>首先举个例子：
    </p>
    
    <c>"icon": {
  "type": "image",
  "texture": "textures/ui/achievements",
  "layer": 3,
  "size": [16,16]
},

"button@common_button.light_content_button": {
  "size": ["100%","100%"],
  "$button_content": "start.icon",
  "$pressed_button_name": "button.menu_achievements"
}</c>
  <table border="1">
    <thead>
      <tr>
        <th>属性名</th>
        <th>值</th>
        <th>介绍</th>
      </tr>
    </thead>
    <tbody>
    <tr>
      <td>$pressed_button_name</td>
      <td>字符串</td>
      <td>值等于上面的to_button_id（按下就可以触发这个按钮事件）</td>
    </tr>
    <tr>
      <td>$button_content</td>
      <td>字符串/控件</td>
      <td>按钮主要内容</td>
    </tr>
    <tr>
      <td>$border_visible</td>
      <td>布尔值</td>
      <td>显示按钮边框</td>
    </tr>
    <tr>
      <td>$button_image</td>
      <td>字符串/控件</td>
      <td>按钮外观</td>
    </tr>
    <tr>
      <td>$button_image_visible</td>
      <td>布尔值</td>
      <td>显示按钮外观</td>
    </tr>
    <tr>
      <td>$button_image_size</td>
      <td>数组/大小</td>
      <td>按钮外观大小</td>
    </tr>
    <tr>
      <td>$image_offset</td>
      <td>数组/偏移</td>
      <td>按钮外观偏移</td>
    </tr>
    <tr>
      <td>$button_image_fill</td>
      <td>布尔值</td>
      <td>按钮外观填充</td>
    </tr>
    <tr>
      <td>$image_anchor</td>
      <td>字符串/列举</td>
      <td>按钮外观偏移点</td>
    </tr>
    </tbody>
  </table>
  
  <tip><b>tip：</b>
      <br>> <b>$button_content</b>的值为命名空间.控件名，用于引用控件在按钮内部显示
      <br>> @common_button.light_content_button改为@common_button.dark_content_button以黑暗外观呈现（没改$button_image情况下）
    </tip>
    
    <h3>无背景内容按钮</h3>
    
    <p>上方演示的按钮都是有背景的，那么如何仅显示内容呢？
    
    <br>首先举个例子：
    </p>
    
    <c>"icon": {
  "type": "image",
  "texture": "textures/ui/achievements",
  "layer": 3,
  "size": [16,16]
},

"button@common_button.no_background_content_button": {
  "size": ["100%","100%"],
  "$button_content": "start.icon",
  "$pressed_button_name": "button.menu_achievements"
}</c>
     
  <div class="panel wow bounceInLeft" data-wow-delay="1.2s">
    <p><strong>$pressed_button_name</strong> <a class="panel c1-yellow c-gray" style="font-size: 10px;">按钮映射事件</a></p>
    值：字符串
    <br>值等于上面的to_button_id（按下就可以触发这个按钮事件）
  </div>
     
  <div class="panel wow bounceInLeft" data-wow-delay="1.2s">
    <p><strong>$button_content</strong> <a class="panel c1-yellow c-gray" style="font-size: 10px;">按钮主要内容</a></p>
    值：字符串/控件
    <br>值为"命名空间.控件名"，用于引用控件在按钮内部显示
  </div>
    <h3>个性化按钮</h3>
    
    <p>这种按钮通常用于定义新的外观
    
    <br>首先举个例子：
    </p>
    
  <c>"icon": {
  "type": "image",
  "texture": "textures/ui/achievements",
  "layer": 3,
  "size": [16,16],
  "alpha": "$icon_alpha",
  "$icon_alpha|default": 1
},

"test_button@common.button": {
  "size": ["100%","100%"],
  "$pressed_button_name": "button.menu_achievements",
  "controls": [
    // 当前显示的内容取决于按钮状态
   {
      // 默认状态
      "default@icon": {}
    },
    {
      // 悬停状态
      "hover@icon": {"$icon_alpha"： 0.8}// 当按钮为悬停状态时，内容透明度为0.8
    },
    {
      // 按下状态
      "pressed@icon": {}
    },
    {
      // 锁定状态
      "locked@icon": {}
    }
  ]
}</c>
    <div class="panel wow bounceInLeft" data-wow-delay="1.2s">
      <p><strong>$pressed_button_name</strong> <a class="panel c1-yellow c-gray" style="font-size: 10px;">按钮映射事件</a></p>
      <p>值：字符串/映射事件
      <br>值等于上面的to_button_id（按下就可以触发这个按钮事件）
    </div>
  
  <tip><b>tip：</b>
      <br>> <a class="c-red">controls</a>的子控件名取决于
      <br>  default_control,hover_control,pressed_control,
      <br>  locked_control定义的控件名，locked_control状态需要自行定义为locked。
      <br>> 注意：按钮无锁定状态可以不用locked子控件
    </tip>
    <h3>关闭按钮</h3>
    
    <p>这种按钮通常用于关闭当前屏幕</p>
    
    <c>"close_button@common.close_button": {
  "size": ["100%","100%"],
  "$close_button_to_button_id": "button.menu_exit"
}</c>
    <div class="panel wow bounceInLeft" data-wow-delay="1.2s">
      <p><strong>$close_button_to_button_id</strong> <a class="panel c1-yellow c-gray" style="font-size: 10px;">按钮映射事件</a></p>
      <p>值：字符串/映射事件
      <br>值等于上面的to_button_id（按下就可以触发这个按钮事件）
    </div>
    
    <p>修改外观与个性化按钮类似，这里不多一一介绍</p>
    
    <h3>返回按钮</h3>
    
    <p>这种按钮通常用于返回上个屏幕</p>
    
    <c>"back_button@common.back_button": {
  "size": ["100%","100%"],
  "$back_button_pressed_button_name": "button.menu_exit"
}</c>
    <div class="panel wow bounceInLeft" data-wow-delay="1.2s">
      <p><strong>$back_button_pressed_button_name</strong> <a class="panel c1-yellow c-gray" style="font-size: 10px;">按钮映射事件</a></p>
      <p>值：字符串/映射事件
      <br>值等于上面的to_button_id（按下就可以触发这个按钮事件）
    </div>
    
    <p>修改外观与个性化按钮类似，这里不多一一介绍</p>
    
    <h2>其他属性</h2>
    
    <p>还有一些属性没有讲，但是他们并不重要！
    <br>不过他们仍然为控件做出一些改动</p>
    
    <div class="panel wow bounceInLeft" data-wow-delay="1.2s">
      <p><strong>always_handle_pointer</strong> <a class="panel c1-yellow c-gray" style="font-size: 10px;">总是处理指针位置</a></p>
      值：布尔值
    </div>
    
    <div class="panel wow bounceInLeft" data-wow-delay="1.2s">
      <p><strong>consume_hover_events</strong> <a class="panel c1-yellow c-gray" style="font-size: 10px;">启用悬停事件</a></p>
      值：布尔值
    </div>
    
    <div class="panel wow bounceInLeft" data-wow-delay="1.2s">
      <p><strong>tts_name</strong> <a class="panel c1-yellow c-gray" style="font-size: 10px;">按下时所朗读的文字</a></p>
      值：字符串
      <br>开启"屏幕阅读"有效
    </div>
    
    <div class="panel wow bounceInLeft" data-wow-delay="1.2s">
      <p><strong>tts_control_header</strong> <a class="panel c1-yellow c-gray" style="font-size: 10px;">按下时所朗读的头部</a></p>
      值：字符串
      <br>开启"屏幕阅读"有效
    </div>
    
    <div class="panel wow bounceInLeft" data-wow-delay="1.2s">
      <p><strong>tts_section_header</strong> <a class="panel c1-yellow c-gray" style="font-size: 10px;">按下时所朗读的头部选项</a></p>
      值：字符串
      <br>开启"屏幕阅读"有效
    </div>
    <h2>代码示例</h2>
    <p>是不是觉得上面的文档太乱？
    <br>没事，我来教你写一个简单的按钮</p>
    <p>跟着下面的注释改就行了</p>
    <c>"content": {
  // 这是按钮样式的按钮
  "type": "image",
  "texture": "$image"
},

"button@common.button": {
  //这个就是按钮控件
  "size": [100,20],// 这行是按钮的大小
  // 下面是按下后的事件
  "$pressed_button_name": "button.menu_settings",
  // 定义按钮外观
  "controls": [
      // 此处的content_hover请换成你需要引用的控件
      // 引用的控件将作为默认状态显示
      "default@content": {"$image": "textures/items/apple"}
    },
    {
      // 此处的content_hover请换成你需要引用的控件
      // 引用的控件将作为悬停状态显示
      "hover@content": {"$image": "textures/items/diamond"}
    },
    {
      // 此处的content_hover请换成你需要引用的控件
      // 引用的控件将作为按下状态显示
      "pressed@content": {"$image": "textures/items/bamboo"}
    }
  ]
}</c>
    <p>好了～以上就是按钮控件的内容了(๑❛ᴗ❛๑)
    <br>如果不懂建议反复观看哦！</p>
    </div></div>
  <!--正文-->
  <script src="../src/js/main.js"></script>
  <script src="../src/js/hl.js"></script>
  <link href="../src/css/font-awesome.css" rel="stylesheet">
  <script>hljs.initHighlightingOnLoad()</script>
</body></html>