<!DOCTYPE html>
<html lang="zh-CN">

<head>
  <meta charset="UTF-8">
  <title>图片控件</title>
  <link rel="shortcut icon" href="../favicon.ico">
  <link rel="icon" sizes="100x100" href="../favicon.ico">
  <meta name="viewport" content="width=device-width,initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no" />
  <meta name="apple-mobile-web-app-title" content="MCBE UI 文档">
  <meta name="apple-touch-icon-precomposed" size="57x57" href="../web_icon.png">
  <meta name="apple-touch-icon-precomposed" size="114x114" href="../web_icon.png">
  <meta name="apple-touch-icon-precomposed" size="152x152" href="../web_icon.png">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black">
  <meta name="apple-touch-fullscreen" content="yes">
  <meta name="keywords" content="我的世界UI,基岩版UI,json ui教程,JSON UI教程,json ui,JSON UI,Minecraft UI,Minecraft JSON UI,Minecraft BE JSON UI,Minecraft Bedrock Edition JSON UI">
  <meta name="description" content="本文档适用于 MCBE UI 开发者，参考文档以制作您的 UI 资源。">
  <meta name="author" content="MC_spruce">
  
  <link href="../src/css/main.css" rel="stylesheet">
  <script src="../src/js/jQuery.js"></script>
</head>

<body>
  <!--正文-->
  <div id="content">
    <div class="left_title"><h1>图片控件</h1></div>
    <div class="left_content">
    <p>提示：以下属性仅适用于 image 控件类型。</p>
    <h2>属性</h2>

    <table>
      <thead><tr><th>属性</th><th>属性名</th><th>值</th><th>默认值</th><th>描述</th></tr></thead><tbody>
      <tr><td>texture</td><td>纹理路径</td><td>字符串：路径</td><td></td><td>图片所在的路径<sup>[1]</sup><br>例如：<lc>textures/ui/anvil_icon</lc></td></tr>
      <tr><td>color</td><td>控件颜色</td><td>字符串：列举 或 数组：RGB数组</td><td>"white"</td><td>改变该控件颜色。颜色不会传递到子控件。
<p><b>值作为字符串时，可能为：</b>
<br>白色 white、淡灰色 silver、灰色 gray grey、黑色 black、红色 red、绿色 green、黄色 yellow、棕色 brown、青色 cyan、蓝色 blue、橙色 orange、紫色 purple、无色 nil</p>
<p><b>值作为“[R,G,B,A]”数组时，可能为：</b>
<br>R通道，浮点数，取值范围在 0~1 之间，默认为 1；
<br>G通道，浮点数，取值范围在 0~1 之间，默认为 1；
<br>B通道，浮点数，取值范围在 0~1 之间，默认为 1；
<br>A通道，浮点数，取值范围在 0~1 之间，默认为 1。</p>
<p><b>RGB转为RGB数组</b><br>可以使用本站的<a href="https://jsonui.netlify.app/tool/color.html">颜色转换工具</a>，或将RGB各值除于255并保留3位小数。</p></td></tr>
      <tr><td>fill</td><td>填充</td><td>布尔值</td><td>false</td><td>图片是否填满至控件大小</td></tr>
      <tr><td>tiled</td><td>平铺</td><td>布尔值 或 字符串：列举</td><td>false</td>
        <td>图片是否平铺或者图片平铺的方向。 <sup>[2]</sup>
        <br><br>作为布尔值并且为 true 时：<br>图片将从控件左上角向右下方平铺。<br>（超出部分会被忽略隐藏）
        <br><br>作为布尔值并且为 false 时：<br>图片不会平铺。
        <br><br>作为字符串时：详见 <a href="#pid_2">平铺方向 ></a><br></td>
      </tr>
      <tr><td>tiled_scale</td><td>平铺缩放</td><td>数组：矢量[x,y]</td><td></td><td>图片的平铺的缩放大小。<sup>[3]</sup></td></tr>
      <tr><td>nineslice_size</td><td>九宫格切片纹理</td><td>浮点数、数组：矢量[x,y]、数组：矢量[x1,y1,x2,y2]</td><td>0</td><td>详见 <a href="#pid_3">九宫格切片纹理 ></a></td></tr>
      <tr><td>uv</td><td>UV</td><td>数组：矢量[x,y]</td><td>[0,0]</td><td>图片映射的初始位置，改变基于左上角的映射位置。<br><br>uv偏移方向如下：<br><img src="../src/image/uv.png" width="75px" height="75px" style="border-radius:0;" /></td></tr>
      <tr><td>uv_size</td><td>UV大小</td><td>数组：矢量[x,y]</td><td>[0,0]</td><td>图片映射的大小。</td></tr>
      <tr><td>base_size</td><td>基本大小</td><td>数组：矢量[x,y]</td><td></td><td>图片的基本大小。</td></tr>
      <tr><td>bilinear</td><td>双线性</td><td>布尔值</td><td>false</td><td>是否使图片以双线性滤波形式显示。<br><br>双线性是一种非线性滤波器，它可以达到保持边缘、降噪平滑的效果。</td></tr>
      <tr><td>grayscale</td><td>灰白滤镜</td><td>布尔值</td><td>false</td><td>图片是否使用灰白滤镜显示。</td></tr>
      <tr><td>clip_ratio</td><td>剪辑比例</td><td>浮点数</td><td>1</td><td>图片的剪辑比例。</td></tr>
      <tr><td>clip_direction</td><td>剪辑方向</td><td>字符串：列举</td><td></td><td>图片开始剪辑的方向。<br>列举的值有：<br>center 中心<br>up 上<br>down 下<br>left 左<br>right 右</td></tr>
      <tr><td>clip_pixelperfect</td><td>剪辑精准到像素</td><td>布尔值</td><td>true</td><td>图片剪辑是否精准到像素。</td></tr>
      <tr><td>keep_ratio</td><td>保持比例</td><td>布尔值</td><td>true</td><td>图片是否保持比例。</td></tr>
      <tr><td>allow_debug_missing_texture</td><td>允许调试丢失材质</td><td>布尔值</td><td>true</td><td>图片是否允许调试丢失材质。<br><br>当显示的图片不存在时，是否使用<lc>textures/misc/missing_texture.png</lc>作为显示。</td></tr>
      <tr><td>force_texture_reload</td><td>强制重新加载纹理</td><td>布尔值</td><td>false</td><td>是否在强制加载纹理。</td></tr>
      <tr><td>zip_folder</td><td>压缩包路径</td><td>字符串：路径</td><td></td><td>图片在压缩包中的路径。<br>例如：<lc>xxx.zip/textures/ui/anvil_icon</lc></td></tr>
      <tr><td>texture_file_system</td><td>系统路径</td><td>字符串：路径</td><td></td><td>图片在压缩包中的路径。<br>例如：<lc>/storage/emulated/0/.../anvil_icon</lc><br><a class="c-red">实际路径会因系统而异！</a></td></tr>
    </table>
    <ol>
    <li>路径不存在或无法解析图片时会显示为紫黑材质</li>
    <li>图片使用平铺时，<lc>fill</lc>属性没有作用。</li>
    <li><lc>"tiled_scale": [32,32]</lc>，如果图片像素大小为 16 x 16 ，那么在图片平铺的情况下，图片像素缩放到 32 x 32。</li></ol>
    
    <h2>平铺方向</h2>
    <p>当<lc>tiled</lc>属性作为字符串时，因使用以下所列举的字符串改变平铺方向：</p>
    <table><thead>
    <tr><th>字符串</th><th>描述</th></tr></thead><tbody>
    <tr><td>x</td><td>图片将从控件正左方 向 X轴右方平铺。（如果图片在Y轴有剩余部分，会把图片高度拉伸至控件高度）</td></tr>
    <tr><td>y</td><td>图片将从控件正上方 向 Y轴下方平铺。（如果图片在X轴有剩余部分，会把图片宽度拉伸至控件宽度）</td></tr>
    <tr><td>xy</td><td>图片将从控件左上方 向 控件右下方平铺。</td></tr>
    <tr><td>yx</td><td>图片将从控件左上方 向 控件右下方平铺。</td></tr></tbody>
    </table>
    <h2>九宫格切片纹理</h2>
    九宫格切片纹理即图片的九宫格切片，一种将图片分成 9 块的方法，因此称为九宫格切片纹理。
    <br>使用九宫格切片纹理调整图片大小后，图片角落将保持同等大小，内部部分将用于拉伸。
    <tip><b>提示</b><br>九宫格切片纹理的值不能为负数。</tip>
    其中，九宫格切片有四种类型：<b>无九宫格切片纹理</b>、<b>九宫格切片纹理</b>、<b>矢量[x,y]九宫格切片纹理</b>、<b>矢量[x1,y1,x2,y2]九宫格切片纹理</b>
    <br>接下来，我们仔细讲解九宫格切片的每种类型
    <h3>无九宫格切片纹理</h3>
    在没有"nineslice_size"属性的情况下，没有无九宫格切片。
    <h3>九宫格切片纹理</h3>
    <img src="../src/image/ns/1.png" width="300px" />
    <br>格式：<lc>"nineslice_size": int</lc>
    <br>示例：<lc>"nineslice_size": 1</lc>
    <br>设图像X轴和Z轴九宫格切片的角落大小。【X轴 = Y轴】
    <h3>矢量[x,y]九宫格切片纹理</h3>
    <img src="../src/image/ns/2.png" width="300px" />
    <br>格式：<lc>"nineslice_size": [ x, y ]</lc>
    <br>示例：<lc>"nineslice_size": [ 2, 2 ]</lc>
    <br>设图像X轴和Z轴九宫格切片的角落大小。【 X轴 和 Y轴 不关联（影响） 】
    <h3>矢量[x1,y1,x2,y2]九宫格切片纹理</h3>
    <img src="../src/image/ns/2.png" width="300px" />
    <br>格式：<lc>"nineslice_size": [ x1, y1, x2, y2 ]</lc>
    <br>示例：<lc>"nineslice_size": [ 2, 2, 2, 2 ]</lc>
    <br>设图像两角的X轴和Z轴九宫格切片的角落大小
    <br>【 左上角：X1 和 Y1；右下角：X2 和 Y2 】

    <h2>制作动图</h2>
    
    <p>那么如何制作动图？</p>
    
    <p>1. 首先，图片如果是Gif图片需要折分并转换为其它图片格式</p>
    
    <p>2. 然后再将每张图片合并为一张图片（水平拼接），例如下方图片</p>

    <p><img src="data:image/PNG;base64,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" alt="图片" title="" />
    </p><p>将图片存储到资源包内的一个位置</p>

      3. 在控件内部添加属性
    
    <tip><b>提示</b><br>1. 不要照抄，这里仅做示范，可能会与你的代码不同
<br>2. <a class="c-red">texture中填你刚存放图片的资源包路径</a></tip>
    
    <c>"auto_save": {
  "type": "image",
  "texture": "textures/ui/auto_save",
  "size": [ 16, 16 ],
  "uv_size": [ 18, 30 ],
  "disable_anim_fast_forward": true
}</c>
      <p>并没有这么简单，<strong>上面只是一个<em></strong>静态<strong></em>图片控件</strong></p>
    4. 写个动画控件
    
    <p>在动画控件填入</p>
    
    <c>"image_anim": {
  "anim_type": "flip_book",
  "easing": "linear"
}</c>
    <tip><b>注意</b><br>动画控件无需使用<lc>"type"</lc>，并且动画控件最好与图片控件在同一文件中</tip>
    5. 完善动画控件
    <p>我们逐次填入下列属性：<br>
    <b>initial_uv</b>：直接填 <lc>"initial_uv": [0,0]</lc>，可以忽略。<br>
    <b>easing</b>：直接填 <lc>"easing": "linear"</lc>，可以忽略。<br>
    <b>frame_count</b>：拼接的图片有多少张就填多少，例如<lc>frame_count</lc>。<br>
    <b>fps</b>：数字越大，播放越快，例如<lc>"fps": 60</lc>。<br>
    <b>frame_step</b>：拼接的每张图片有多长，就填多少，例如<lc>"frame_step": 18</lc>。</p>

    <p>填完的效果可能这样的。</p>
    
    <c>"image_anim": {
  "anim_type": "flip_book",
  "initial_uv": [ 0, 0 ],
  "frame_count": 9,
  "frame_step": 18,
  "fps": 10,
  "reversible": true,
  "easing": "linear"
}</c>
      6. 回到图片控件添加uv属性
      <p>例如：</p>
    
    <c>"auto_save": {
  "type": "image",
  "texture": "textures/ui/auto_save",
  "size": [ 16, 16 ],
  "uv_size": [ 18, 30 ],
  "uv": "@image_anim",
  "disable_anim_fast_forward": true
}</c>
      <p>在这里，uv的值是<b>字符串</b>
      <br>并且值必须是<a class="panel">"@动画控件名称"</a></p>
    
    <p>7. 检查代码格式是否正确</p>
    
    <p>好了，<strong>动图控件</strong>已经完成，记得引用控件才能显示在屏幕上哦
      <br>下面是完整的示例代码</p>
    
    <c>"image_anim": {
  "anim_type": "flip_book",
  "initial_uv": [ 0, 0 ],
  "frame_count": 9,
  "frame_step": 18,
  "fps": 10,
  "reversible": true,
  "easing": "linear"
},

"test_image": {
  "type": "image",
  "texture": "textures/ui/auto_save",
  "size": [ 18, 30 ],
  "uv_size": [ 18, 30 ],
  "uv": "@image_anim",
  "disable_anim_fast_forward": true
}</c>
<h2>外部 JSON 文件属性</h2>
在 <lc>textures/ui/</lc> 文件夹中，有些图片旁边有同名的文件。
<br>这些文件打开一看，却装着 JSON UI 的属性，到底是怎么回事呢？我们来研究下吧！
<br><br>在外部 JSON 文件声明属性能直接定义图片的属性，无需多次在 JSON UI 文件中声明属性！
<br>打开文件，内部代码格式为
<c title="代码">{"base_size":[8,8],"nineslice_size":[2,2]}</c>

里面那些属性通常为 <lc>"base_size"</lc> <lc>"nineslice_size"</lc>。
<br>那要如何创建一个图像文件呢？
<br>只要在创建一个与图像重名的 .json 文件即可，
<br>例如：<lc>test.png</lc> -> <lc>test.json</lc>
<h2>代码示例</h2>
<c title="普通的图像控件">"image": {
  "type": "image",
  "textures": "textures/items/apple"
}</c>

<c title="动图">"image_anim": {
  "anim_type": "flip_book",
  "initial_uv": [ 0, 0 ],
  "frame_count": 9,
  "frame_step": 18,
  "fps": 10,
  "easing": "linear"
},
"test_image": {
  "type": "image",
  "texture": "textures/ui/auto_save",
  "size": [ 18, 30 ],
  "uv_size": [ 18, 30 ],
  "uv": "@image_anim",
  "disable_anim_fast_forward": true
}</c>
  </div></div>
  <!--正文-->
  <script src="../src/js/main.js"></script>
  <script src="../src/js/hl.js"></script>
  <link href="../src/css/font-awesome.css" rel="stylesheet">
  <script>hljs.initHighlightingOnLoad()</script>
</body></html>