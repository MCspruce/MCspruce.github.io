<!DOCTYPE html>
<html lang="zh-CN">

<head>
  <meta charset="UTF-8">
  <title>操作表达式</title>
  <link rel="shortcut icon" href="../../favicon.ico">
  <link rel="icon" sizes="100x100" href="../../favicon.ico">
  <meta name="viewport" content="width=device-width,initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no" />
  <meta name="apple-mobile-web-app-title" content="MCBE UI 文档">
  <meta name="apple-touch-icon-precomposed" size="57x57" href="../../web_icon.png">
  <meta name="apple-touch-icon-precomposed" size="114x114" href="../../web_icon.png">
  <meta name="apple-touch-icon-precomposed" size="152x152" href="../../web_icon.png">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black">
  <meta name="apple-touch-fullscreen" content="yes">
  <meta name="keywords" content="我的世界UI,基岩版UI,json ui教程,JSON UI教程,json ui,JSON UI,Minecraft UI,Minecraft JSON UI,Minecraft BE JSON UI,Minecraft Bedrock Edition JSON UI">
  <meta name="description" content="本文档适用于 MCBE UI 开发者，参考文档以制作您的 UI 资源。">
  <meta name="author" content="MC_spruce">
  
  <link href="../../src/css/main.css" rel="stylesheet">
  <script src="../../src/js/jQuery.js"></script>
</head>

<body>
  <!--正文-->
  <div id="content">
    <div class="left_title"><h1>操作表达式</h1></div>
    <div class="left_content">
<p>在值或者绑定中，可以使用操作表达式计算结果。</p>
<p>每个括号中代表一个操作表达式，如<lc>"source_property_name": "(#text + 'test')"</lc>，在这些操作表达式中又可以添加子表达式，如<lc>($test and not ($test1 or $test2))</lc>。</p>
<p>他们也遵守四则运算法则，运算时优先运算括号内部的操作表达式。可以适当减少操作表达式的复杂性，提升可读性以及一些优化。</p>
<p>为了能更加清晰易懂的理解操作符号，我们将操作符号分几部分来讲，使用常量进行操作（常量可以替换为变量、绑定属性），以下是所有的操作符号：</p>
<h2>基本计算符号</h2>
基本四则运算适用于任意数类型，包括但不限于数字。为了方便理解，使用数字常量举例。
<tip><b>提示</b><br>操作符号前后的空格可省略。</tip>
<div class="cnTable"><div class="cnTableContainer"><table>
<thead><tr><th>操作名</th><th>操作符号</th><th>示例</th><th>结果</th><th>备注</th></tr></thead><tbody>
<tr><td>加</td><td>+</td><td>(1 + 1)</td><td>2</td><td>字符串加字符时，就等于在字符串末尾追加字符。</td></tr>
<tr><td>减</td><td>-</td><td>(1 - 1)</td><td>0</td><td>字符串减字符时，就等于在字符串去除某个字符。</td></tr>
<tr><td>乘</td><td>*</td><td>(2 * 2)</td><td>4</td><td></td></tr>
<tr><td>除</td><td>/</td><td>(4 / 2)</td><td>2</td><td></td></tr></tbody>
</table></div></div>
<h2>比较符号</h2>
使用比较符号的操作表达式输出结果是布尔值。
<tip><b>提示</b><br>操作符号前后的空格可省略。</tip>
<div class="cnTable"><div class="cnTableContainer"><table>
<thead><tr><th>操作名</th><th>操作符号</th><th>示例</th><th>结果</th><th>备注</th></tr></thead><tbody>
<tr><td>等于</td><td>=</td><td>(1 = 1)</td><td>true</td><td>若等于返回 true，反之 false。</td></tr>
<tr><td>不等于</td><td></td><td>(not (1 = 1))</td><td>false</td><td>若不等于返回 true，反之 false。</td></tr>
<tr><td>大于</td><td>></td><td>(2 > 1)</td><td>true</td><td>若符合返回 true，反之 false。</td></tr>
<tr><td>小于</td><td><</td><td>(0 < 1)</td><td>true</td><td>若符合返回 true，反之 false。</td></tr>
<tr><td>大于或等于</td><td></td><td>(2 > 1 or 2 = 1)</td><td>true</td><td>若符合返回 true，反之 false。</td></tr>
<tr><td>小于或等于</td><td></td><td>(1 < 1 or 1 = 1)</td><td>true</td><td>若符合返回 true，反之 false。</td></tr></tbody>
</table></div></div>
<h2>包含符号</h2>
使用包含符号的操作表达式输出结果是布尔值。
<tip><b>提示</b><br>操作符号前后的空格可省略。</tip>
<div class="cnTable"><div class="cnTableContainer"><table>
<thead><tr><th>操作名</th><th>操作符号</th><th>示例</th><th>结果</th><th>备注</th></tr></thead><tbody>
<tr><td>开头含有</td><td>></td><td>('testABC' > 'test')</td><td>true</td><td>若含有返回 true，反之 false。</td></tr>
<tr><td>末尾含有</td><td><</td><td>('ABCtest' < 'test')</td><td>true</td><td>若含有返回 true，反之 false。</td></tr></tbody>
</table></div></div>
<h2>格式化</h2>
具体语法详见<a href="https://bbs.aardio.com/doc/reference/libraries/kernel/string/format.html">格式化语法</a>。
<tip><b>提示</b><br>操作符号前后的空格可省略。</tip>
<div class="cnTable"><div class="cnTableContainer"><table>
<thead><tr><th>格式化名</th><th>格式化符号</th><th>示例</th><th>结果</th><th>备注</th></tr></thead><tbody>
<tr><td>转义</td><td>%%</td><td>('abc' + '%%')</td><td>abc%</td><td>%会识别为格式化操作，需要转义。</td></tr>
<tr><td>字符串</td><td>%s</td><td>('abc%s' * 'def')</td><td>abcdef</td><td>将字符串中的%s都替换成后方的值。</td></tr>
<tr><td>整数</td><td>%d</td><td>('abc%d' * '123')</td><td></td><td>将字符串中的%d都替换成后方整数形式的值。</td></tr>
<tr><td>字段宽度</td><td>%.*s</td><td>('abcdefg' * '%.4s')</td><td>abcd</td><td>用于指定字符串出现在结果中的最小字符数。</td></tr></tbody>
</table></div></div>
<h2>逻辑</h2>
以下是简单的逻辑符号，下方重点讲解逻辑关系：
<div class="cnTable"><div class="cnTableContainer"><table>
<thead><tr><th>逻辑名</th><th>逻辑符号</th><th>示例</th><th>结果</th><th>备注</th></tr></thead><tbody>
<tr><td>或</td><td>or</td><td>(true or false)</td><td>true</td><td>or 其中一边约等于 true 返回 true，反之 false。</td></tr>
<tr><td>与</td><td>and</td><td>(true and true)</td><td>true</td><td>and 两边都约等于 true 返回 true，反之 false。</td></tr>
<tr><td>非</td><td>not</td><td>(not true)</td><td>false</td><td>对 not 后方的值进行取反操作。</td></tr></tbody>
</table></div></div>
<tip><b>提示</b><br>逻辑符号与常量、变量和绑定属性之间需要空格。</tip>
以下是进一步的逻辑关系：
<h3>与非门</h3>
逻辑表达式：<lc>not (A and B)</lc>
<p>与非门是与门和非门的组合。它有两个输入和一个输出。输出是与门的输出取反。</p>
<div class="cnTable"><div class="cnTableContainer"><table>
<thead><tr><th>A</th><th>B</th><th>结果</th></tr></thead><tbody>
<tr><td>false</td><td>false</td><td>true</td></tr>
<tr><td>false</td><td>true</td><td>true</td></tr>
<tr><td>true</td><td>false</td><td>true</td></tr>
<tr><td>true</td><td>true</td><td>false</td></tr></tbody>
</table></div></div>
<h3>或非门</h3>
逻辑表达式：<lc>not (A or B)</lc>
<p>或非门是或门和非门的组合。它有两个输入和一个输出。输出是或门的输出取反。</p>
<div class="cnTable"><div class="cnTableContainer"><table>
<thead><tr><th>A</th><th>B</th><th>结果</th></tr></thead><tbody>
<tr><td>false</td><td>false</td><td>true</td></tr>
<tr><td>false</td><td>true</td><td>false</td></tr>
<tr><td>true</td><td>false</td><td>false</td></tr>
<tr><td>true</td><td>true</td><td>false</td></tr></tbody>
</table></div></div>
<h3>异或门</h3>
逻辑表达式：<lc>not (A = B)</lc>
<p>当且仅当两个输入不同时，输出为真。</p>
<div class="cnTable"><div class="cnTableContainer"><table>
<thead><tr><th>A</th><th>B</th><th>结果</th></tr></thead><tbody>
<tr><td>false</td><td>false</td><td>false</td></tr>
<tr><td>false</td><td>true</td><td>true</td></tr>
<tr><td>true</td><td>false</td><td>true</td></tr>
<tr><td>true</td><td>true</td><td>false</td></tr></tbody>
</table></div></div>
<h3>同或门</h3>
逻辑表达式：<lc>A = B</lc>
<p>同或门是异或门的输出取反。</p>
<div class="cnTable"><div class="cnTableContainer"><table>
<thead><tr><th>A</th><th>B</th><th>结果</th></tr></thead><tbody>
<tr><td>false</td><td>false</td><td>true</td></tr>
<tr><td>false</td><td>true</td><td>false</td></tr>
<tr><td>true</td><td>false</td><td>false</td></tr>
<tr><td>true</td><td>true</td><td>true</td></tr></tbody>
</table></div></div>
  </div></div>
  <!--正文-->
  <script src="../src/js/sdui.js"></script>
  <script src="../../src/js/main.js"></script>
  <script src="../../src/js/hl.js"></script>
  <link href="../../src/css/font-awesome.css" rel="stylesheet">
  <script>hljs.initHighlightingOnLoad()</script>
</body></html>